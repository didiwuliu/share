<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>LAnimation</title>
	<script type="text/javascript" src="../../lufylegend-1.8.12.simple.min.js"></script>
	</head>
	<body>
			<div id="legend"></div>
			<script type="text/javascript">
				init(100,"legend",800,450,main);
				var imgData = [
					{name:"player",path:"player.png"}
				];
				var imglist;
				var backLayer,hero,index=0;
				function main(){
					LLoadManage.load(imgData,null,gameInit);
				}
				function gameInit(result){
					imglist = result;
					backLayer = new LSprite();
					addChild(backLayer);
					var list = LGlobal.divideCoordinate(256,256,4,4);
					var data = new LBitmapData(imglist["player"],0,64,64,64);
					hero = new LAnimation(backLayer,data,list);
					backLayer.addEventListener(LEvent.ENTER_FRAME,onframe);
				}
				function onframe(){
					hero.onframe();
					if(index++ == 20){
						//设置播放行号为1，且不使用镜像，即播放第2行的图片
						hero.setAction(1,0,1,false);
					}else if(index == 40){
						//设置播放行号为1，且使用镜像，即播放第2行的图片的镜像
						hero.setAction(1,0,1,true);
						index=0;
					}
				}
			</script>
			
			
			
	</body>
</html>
